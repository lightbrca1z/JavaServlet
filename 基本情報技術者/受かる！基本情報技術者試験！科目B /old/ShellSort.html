<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
//     var x=10, y=20, z=0, i=1;
// while(true) {
//     document.write('i='+i+'( ');
//     //yの0ビット目が1かを確認
//     if ((y & 1) > 0) {
//         z = z + x;
//     }
//     document.write('y[0]='+(y & 1)+', z='+z);  
//     x = x << 1; //xを1ビット左シフト
//     y = y >> 1; //yを1ビット右シフト
//     i = i + 1;
//     document.write(', x='+x+', y='+y+' )<br>');
//     if (i > 16) {
//         break;
//     }
// }
// document.write('<b>出力Z='+z+'</b>');

// 80点以上の合格者の数

function shellSort(arr) {
    const n = arr.length;
    let gap = Math.floor(n / 2); // 初期間隔を配列長の半分に設定

    while (gap > 0) {
        for (let i = gap; i < n; i++) {
            const temp = arr[i];
            console.log("gap= i : " + i); 

            console.log("temp = arr[i] = gap : " + temp);
            let j = i;
            console.log("i : " + i);
            console.log("j : " + j);
            while (j >= gap && arr[j - gap] > temp) {
                console.log("gap : " + gap);
                console.log("j : " + j);
                console.log("arr[j] : " + arr[j]);
                arr[j] = arr[j - gap]; // 間隔内の要素を移動
                console.log("arr[j - gap] : " + arr[j - gap]);
                j -= gap;

            console.log("j - gap : " + j);
                // console.log("J-After : " + j);
            }

            console.log("temp : " + temp);
            arr[j] = temp;

            console.log("ソート途中:", arr);
        }

        gap = Math.floor(gap / 2); // 間隔を縮小
        console.log("Math.floor(gap / 2) : " + gap);
    }

    return arr;
}

// テスト用の配列
const array = [5, 2, 7, 1, 3, 9, 4, 6, 8];
console.log("ソート前:", array);
console.log("シェルソート後:", shellSort(array));

</script>
<body>
    
</body>
</html>